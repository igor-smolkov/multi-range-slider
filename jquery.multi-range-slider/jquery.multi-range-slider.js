!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.multiRangeSlider=e():t.multiRangeSlider=e()}(self,(function(){return function(){"use strict";var t={176:function(t,e,n){var i=n(476),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".multi-range-slider{display:flex;flex-direction:column;justify-content:center;width:100%;min-width:99px;max-width:100%;padding:15px 0;overflow:hidden;touch-action:none}.multi-range-slider *{margin:0;padding:0;border:0}.multi-range-slider,.multi-range-slider *,.multi-range-slider *::before,.multi-range-slider *::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.multi-range-slider_indent_none{padding:0;overflow:visible}.multi-range-slider_indent_add{padding:40px 0 15px 0}.multi-range-slider_vertical{flex-direction:row-reverse;width:min-content;min-width:min-content;height:100%;min-height:110px;padding:15px 15px}.multi-range-slider_vertical.multi-range-slider_indent_none{padding:0;overflow:visible}.multi-range-slider_vertical.multi-range-slider_indent_add{padding-right:80px}.multi-range-slider_vertical .multi-range-slider__scale{flex-direction:column-reverse;margin:0}.multi-range-slider_vertical .multi-range-slider__scale-segment{min-width:24.5px;min-height:1px}.multi-range-slider_vertical .multi-range-slider__scale-segment::before{bottom:0;left:-7px;width:14px;height:2px}.multi-range-slider_vertical .multi-range-slider__scale-segment_long::before{width:21px;height:2px}.multi-range-slider_vertical .multi-range-slider__scale-segment_short::before{width:10.5px;height:2px}.multi-range-slider_vertical .multi-range-slider__scale-segment_with-number,.multi-range-slider_vertical .multi-range-slider__scale-segment_with-name{min-height:min-content}.multi-range-slider_vertical .multi-range-slider__scale-segment_with-number::after,.multi-range-slider_vertical .multi-range-slider__scale-segment_with-name::after{bottom:-7px;left:18px;display:flex;align-items:flex-end;justify-content:flex-start;transform:none}.multi-range-slider_vertical .multi-range-slider__scale-segment_with-label{min-width:72px}.multi-range-slider_vertical .multi-range-slider__scale-segment:focus::before,.multi-range-slider_vertical .multi-range-slider__scale-segment:hover::before{background-color:#9f4d84;transform:scale(1.5) translateX(4px);transition:all 0.3s ease}.multi-range-slider_vertical .multi-range-slider__scale-segment_last::before{top:0;bottom:auto}.multi-range-slider_vertical .multi-range-slider__scale-segment_last::after{top:-6px;bottom:auto}.multi-range-slider_vertical .multi-range-slider__bars-slot{flex-direction:column-reverse;min-width:7px;max-width:7px;height:100%;min-height:100%;max-height:100%;margin:0}.multi-range-slider_vertical .multi-range-slider__bar{flex-direction:column-reverse;min-width:7px;max-width:7px;min-height:0;max-height:100%}.multi-range-slider_vertical .multi-range-slider__thumb{top:-10px;right:auto;left:-6px}.multi-range-slider_vertical .multi-range-slider__thumb_hovered,.multi-range-slider_vertical .multi-range-slider__thumb:hover{cursor:row-resize}.multi-range-slider_vertical .multi-range-slider__label{top:-2px;left:18px;transform:none}.multi-range-slider__scale{display:flex;margin:0 15px}.multi-range-slider__scale-segment{position:relative;min-width:1px;min-height:24.5px;margin:0;padding:0;font-size:0;cursor:pointer}.multi-range-slider__scale-segment_notch_none::before{display:none}.multi-range-slider__scale-segment::before{position:absolute;bottom:-7px;left:-1px;z-index:0;width:2px;height:14px;background-color:#b3b1b5;content:''}.multi-range-slider__scale-segment_long::before{height:21px}.multi-range-slider__scale-segment_short::before{height:10.5px}.multi-range-slider__scale-segment_with-number::after{color:#b3b1b5;font-size:10px;font-family:verdana,geneva,tahoma,sans-serif;text-transform:capitalize;position:absolute;top:-7px;left:-50%;display:flex;align-items:center;justify-content:center;width:100%;content:attr(data-value)}.multi-range-slider__scale-segment_with-name::after{color:#b3b1b5;font-size:10px;font-family:verdana,geneva,tahoma,sans-serif;text-transform:capitalize;position:absolute;top:-7px;left:-50%;display:flex;align-items:center;justify-content:center;width:100%;transform:rotate(-30deg);content:attr(data-label)}.multi-range-slider__scale-segment:focus,.multi-range-slider__scale-segment:hover{outline:none}.multi-range-slider__scale-segment:focus::before,.multi-range-slider__scale-segment:hover::before{background-color:#9f4d84;transform:scale(1.5) translateY(-4px);transition:all 0.3s ease}.multi-range-slider__scale-segment:focus::after,.multi-range-slider__scale-segment:hover::after{color:#9f4d84;font-weight:bold;transition:all 0.3s ease}.multi-range-slider__scale-segment_long:focus::after,.multi-range-slider__scale-segment_long:hover::after{opacity:0}.multi-range-slider__scale-segment_last::before{right:-1px;left:auto}.multi-range-slider__scale-segment_last::after{right:-50%;left:auto}.multi-range-slider__bars-slot{z-index:1;display:flex;min-height:7px;max-height:7px;margin:0 15px;background-color:#b3b1b5;cursor:pointer}.multi-range-slider__bar{display:flex;justify-content:flex-end;min-width:0;min-height:7px;max-height:7px}.multi-range-slider__bar_actual{background-color:#7a4c9d}.multi-range-slider__bar_actual:hover{background-color:#9f4d84;transition:background-color 0.3s ease}.multi-range-slider__bar_even{background-color:#725985}.multi-range-slider__bar_active{background-color:#9f4d84}.multi-range-slider__thumb{position:relative;top:-7px;right:-10px;z-index:10;min-width:20px;max-width:20px;height:20px;min-height:20px;max-height:20px;background-color:#fffff7;border:2px solid #7a4c9d;border-radius:10px;cursor:pointer;opacity:1;transition:all 0.3s ease}.multi-range-slider__thumb_hovered,.multi-range-slider__thumb:hover{border-color:#9f4d84;box-shadow:0 0 5px rgba(0,0,0,0.2);transform:scale(1.5);cursor:col-resize;transition:all 0.3s ease}.multi-range-slider__thumb_focused,.multi-range-slider__thumb:focus{border-color:#9f4d84;outline:none;box-shadow:0 0 5px rgba(0,0,0,0.2);transform:scale(1.5);transition:all 0.3s ease}.multi-range-slider__label{color:#fffff7;font-size:10px;font-family:verdana,geneva,tahoma,sans-serif;line-height:1;text-transform:capitalize;position:absolute;top:-21px;left:50%;display:flex;align-items:center;justify-content:center;width:min-content;min-height:19px;max-height:19px;padding:0 5px;background-color:#7a4c9d;transform:translateX(-50%)}\n",""]),e.Z=r},476:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},892:function(t,e,n){var i,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function o(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],r=0;r<t.length;r++){var a=t[r],l=e.base?a[0]+e.base:a[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var h=o(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(s[h].references++,s[h].updater(p)):s.push({identifier:u,updater:d(p,e),references:1}),i.push(u)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=r(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function h(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function p(t,e,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,g=0;function d(t,e){var n,i,r;if(e.singleton){var s=g++;n=f||(f=l(e)),i=h.bind(null,n,s,!1),r=h.bind(null,n,s,!0)}else n=l(e),i=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=o(n[i]);s[r].references--}for(var l=a(t,e),c=0;c<n.length;c++){var u=o(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=l}}}},88:function(t,e,n){var i,r,s,o;n.d(e,{rQ:function(){return r},PQ:function(){return s},yD:function(){return o},FO:function(){return i}}),function(t){t.init="init",t.update="update"}(i||(i={})),function(t){t.vertical="vertical",t.horizontal="horizontal"}(r||(r={})),function(t){t.number="number",t.name="name"}(s||(s={})),function(t){t.basic="basic",t.numeric="numeric",t.named="named",t.mixed="mixed"}(o||(o={}))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var i={};return function(){n.d(i,{default:function(){return rt}});var t,e=function(){function t(){this.events={}}return t.prototype.subscribe=function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},t.prototype.unsubscribe=function(t,e){this.events[t]=this.events[t].filter((function(t){return e!==t}))},t.prototype.emit=function(t,e){var n=this.events[t];n&&n.forEach((function(t){return t(e)}))},t}(),r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},s=function(){function t(t){void 0===t&&(t={max:100,min:0,current:50}),this.max=100,this.min=0,this.current=50,this.configure(t)}return t.prototype.setMin=function(t){return this.setRange(t,this.getMax()),this.getMin()},t.prototype.getMin=function(){return this.min},t.prototype.setMax=function(t){return this.setRange(this.getMin(),t),this.getMax()},t.prototype.getMax=function(){return this.max},t.prototype.setCurrent=function(t){return this.getMin()<=t&&t<=this.getMax()?this.current=t:t<=this.getMin()?this.current=this.getMin():this.current=this.getMax(),this.getCurrent()},t.prototype.getCurrent=function(){return this.current},t.prototype.configure=function(e){var n=r({},e);this.min=t.isCorrectRange(n.min,n.max)?n.min:n.max,this.max=n.max,this.current=n.current||0===n.current?this.setCurrent(n.current):this.setCurrent(this.max)},t.isCorrectRange=function(t,e){return t<=e},t.prototype.setRange=function(e,n){return this.min=t.isCorrectRange(e,n)?e:this.min,this.max=t.isCorrectRange(this.min,n)?n:this.max,this.setCurrent(this.getCurrent()),this.getCurrent()},t}(),o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=function(){function t(t){this.labels=new Map,this.step=1,this.startKey=0,this.configure(o({},t))}return t.prototype.update=function(t){this.configure(t)},t.prototype.getLabels=function(){return this.labels},t.prototype.getMinKey=function(){var t=null;return this.labels.forEach((function(e,n){(null===t||n<t)&&(t=n)})),t},t.prototype.getMaxKey=function(){var t=null;return this.labels.forEach((function(e,n){(null===t||n>t)&&(t=n)})),t},t.prototype.getClosestNameByValue=function(t,e){var n=this.labels.get(t);if(n)return n;var i=e,r=null;return this.labels.forEach((function(e,n){var s=n>t?n-t:t-n;s<i&&(i=s,r=n)})),null!==r?this.labels.get(r):n},t.prototype.isFlat=function(){var t=this,e=!0,n=null;return this.labels.forEach((function(i,r){null!==n&&n!==r-t.step&&(e=!1),n=r})),e},t.prototype.configure=function(t){var e,n=o({},t);this.startKey=null!==(e=n.startKey)&&void 0!==e?e:0,this.step=this.setStep(n.step),this.labels=this.orderLabels(n.labelsList)},t.prototype.setStep=function(t){var e=t&&t>0;return this.step=e?t:1,this.step},t.prototype.orderLabels=function(t){var e=this,n=new Map;if(void 0===t||!t.length)return n;var i=this.startKey;return null==t||t.forEach((function(t){if("string"!=typeof t){var r=t[0],s=t[1];n.set(r,s),i=r>i?r+e.step:i}else n.set(i,t),i+=e.step})),n},t}(),l=function(){function t(){}return t.makeCorrecterValueTailBy=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.getMaxMantissaLength.apply(t,e);return function(e){return t.correctValueTail(e,i)}},t.getMaxMantissaLength=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=[];return e.forEach((function(e){t.getMantissa(e)&&i.push(t.getMantissa(e).length)})),i.length?Math.max.apply(Math,i):0},t.correctValueTail=function(t,e){return+t.toFixed(e)},t.getMantissa=function(t){return t.toString().split(".")[1]},t}(),c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(){function t(e,n){this.activeRange=0,this.step=1,this.actualRanges=null,this.ranges=t.correctRanges(e),this.configure(n)}return t.prototype.update=function(t){this.configure(t)},t.prototype.getConfig=function(){return{min:this.getMin(),max:this.getMax(),value:this.getValue(),step:this.getStep(),isDouble:this.isDouble(),minInterval:this.getMinInterval(),maxInterval:this.getMaxInterval(),limits:this.getLimits(),activeRange:this.getActiveRange(),actualRanges:this.getActualRanges()}},t.prototype.setMin=function(t){if(!this.ranges.find((function(e){return t<=e.getMax()})))return this.ranges[0].getMin();this.ranges[0].setMin(t);var e=0;return this.ranges.forEach((function(n,i){t>n.getMin()&&n.setMin(t),t>n.getMax()&&(e=i+1)})),this.ranges.splice(0,e),this.ranges[0].getMin()},t.prototype.getMin=function(){return this.ranges[0].getMin()},t.prototype.setMax=function(t){if(!this.ranges.find((function(e){return t>=e.getMin()})))return this.ranges[0].getMax();this.ranges[this.ranges.length-1].setMax(t);var e=0,n=this.ranges.slice().reverse();return n.forEach((function(n,i){t<n.getMax()&&n.setMax(t),t<n.getMin()&&(e=i+1)})),n.splice(0,e),this.ranges=n.slice().reverse(),this.ranges[this.ranges.length-1].getMax()},t.prototype.getMax=function(){return this.ranges[this.ranges.length-1].getMax()},t.prototype.setValue=function(t){return this.setValueByIndex(t,this.activeRange)},t.prototype.setPerValue=function(t){var e=t*this.getAbsoluteRange()/100+this.getMin();return this.setValue(e)},t.prototype.setStep=function(t){var e=this.getAbsoluteRange(),n=t&&t>0&&t<=e,i=e>=1?this.step:l.makeCorrecterValueTailBy(this.getMax(),this.getMin())(e);return this.step=n?t:i,this.getStep()},t.prototype.getStep=function(){return this.step},t.prototype.setMinInterval=function(t){return this.setValueByIndex(t,0),this.getMinInterval()},t.prototype.setMaxInterval=function(t){return this.setValueByIndex(t,this.ranges.length-1),this.getMaxInterval()},t.prototype.setActiveRange=function(t){var e;return this.activeRange=this.isCorrectIndex(t)?t:null!==(e=this.activeRange)&&void 0!==e?e:0,this.activeRange},t.prototype.setActiveRangeCloseOfValue=function(t){var e=this.getIndexCloseOfValue(t);return this.setActiveRange(e)},t.prototype.getValues=function(){return this.ranges.map((function(t){return t.getCurrent()}))},t.prototype.getPerValues=function(){var t=this,e=[];return this.ranges.forEach((function(n,i){e.push(t.getPerValueByIndex(i))})),e},t.prototype.setActualRanges=function(e){var n=this;if((!this.actualRanges||null===e)&&(this.actualRanges=t.defineActualRanges(this.ranges.length)),e&&!e.length)return this.actualRanges=[],this.actualRanges;if(!e)return this.actualRanges;var i=[];return e.forEach((function(t){n.isCorrectIndex(t)&&i.push(t)})),this.actualRanges=i.length?i:this.actualRanges,this.getActualRanges()},t.prototype.getAbsoluteRange=function(){return this.getMax()-this.getMin()},t.prototype.stepForward=function(){this.setValue(this.getValue()+this.getStep())},t.prototype.stepBackward=function(){this.setValue(this.getValue()-this.getStep())},t.correctRanges=function(e){var n=[];return t.sortRanges(e).forEach((function(t,i){if(i+1!==e.length){var r=e[i+1],s=r.getMin();(t.getCurrent()===s&&t.getMax()===r.getCurrent()||t.setCurrent(s)===s&&t.getMax()===r.setCurrent(t.getMax()))&&n.push(t)}else n.push(t)})),n},t.sortRanges=function(t){return t.sort((function(t,e){return t.getMin()-e.getMin()?t.getMin()-e.getMin():t.getMax()-e.getMax()}))},t.defineActualRanges=function(e){return t.isPrime(e)?t.defineActualRangesTogether(e):t.defineActualRangesReasonably(e)},t.isPrime=function(t){for(var e=!0,n=2;n<t;n+=1)if(t%n==0){e=!1;break}return e},t.defineActualRangesTogether=function(t){if(t<=1)return[0];for(var e=[],n=1;n<t;n+=1)e.push(n);return e},t.defineActualRangesReasonably=function(t){for(var e=[],n=t-1;n>0;n-=1)if(t%n==0){for(var i=0;i<t;i+=1)i%n!=0&&e.push(i);break}return e},t.prototype.configure=function(t){var e=c({},t);this.activeRange=this.setActiveRange(e.activeRange),this.actualRanges=this.setActualRanges(e.actualRanges);var n=e.min||0===e.min?e.min:null;(n||0===n)&&this.setMin(n);var i=e.max||0===e.max?e.max:null;(i||0===i)&&this.setMax(i),this.step=this.setStep(e.step);var r=e.value||0===e.value?e.value:null;(r||0===r)&&this.setValue(r);var s=e.minInterval||0===e.minInterval?e.minInterval:null;(s||0===s)&&this.setMinInterval(s);var o=e.maxInterval||0===e.maxInterval?e.maxInterval:null;(o||0===o)&&this.setMaxInterval(o)},t.prototype.isCorrectIndex=function(t){return t>=0&&t<this.ranges.length&&Number.isInteger(t)},t.prototype.setValueByIndex=function(t,e){var n=this.correctValueByStep(t),i=this.ranges[e].setCurrent(n);return this.isCorrectIndex(e-1)&&this.ranges[e-1].setMax(i),this.isCorrectIndex(e+1)&&this.ranges[e+1].setMin(i),i},t.prototype.getPerValueByIndex=function(t){var e=(this.ranges[t].getCurrent()-this.getMin())/this.getAbsoluteRange()*100;return Number.isNaN(e)?0:e},t.prototype.getIndexCloseOfValue=function(t){var e=this.getIndexByValue(t),n=this.getRange(e),i=this.getRange(e-1);return i?n.getCurrent()-t<t-i.getCurrent()?e:e-1:e},t.prototype.getIndexByValue=function(t){var e=this;return this.ranges.findIndex((function(n,i){return n.getMin()<=t&&(t<=n.getCurrent()||i===e.ranges.length-1)}))},t.prototype.getRange=function(t){return this.isCorrectIndex(t)?this.ranges[t]:null},t.prototype.correctValueByStep=function(t){var e=Math.round((t-this.getMin())/this.step)*this.step+this.getMin();return l.makeCorrecterValueTailBy(this.step,this.getMin(),this.getMax())(e)},t.prototype.getValue=function(){return this.ranges[this.activeRange].getCurrent()},t.prototype.getMinInterval=function(){return this.ranges[0].getCurrent()},t.prototype.getMaxInterval=function(){return this.ranges[this.ranges.length-1].getCurrent()},t.prototype.getActiveRange=function(){return this.activeRange},t.prototype.isDouble=function(){return 2===this.ranges.length},t.prototype.getLimits=function(){var t=this,e=[];return this.ranges.forEach((function(n,i){0===i&&e.push(n.getMin()),e.push(n.getCurrent()),i===t.ranges.length-1&&e.push(n.getMax())})),e},t.prototype.getActualRanges=function(){return this.actualRanges},t}(),h=n(88),p=function(){return(p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},f=function(){function t(t){this.defaults={orientation:h.rQ.horizontal,withLabel:!1,withIndent:!0,withNotch:!0,label:null,scale:null,scaleSegments:null,lengthPx:null},this.config=p(p({},this.defaults),t)}return t.prototype.update=function(t){this.config=p(p({},this.config),t)},t.prototype.getConfig=function(){return p({},this.config)},t}(),g=function(){return(g=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};!function(t){t.init="init",t.update="update"}(t||(t={}));var m,v=function(){function n(){this.eventEmitter=new e,this.ranges=[new s],this.slider=new u(this.ranges),this.labelsList=new a,this.modelView=new f}return n.prototype.on=function(t,e){this.eventEmitter.subscribe(t,e)},n.prototype.init=function(e){this.make(g({},e)),this.notify(t.init)},n.prototype.update=function(e){var i=this.slider.getConfig().limits;(null==e?void 0:e.limits)||!n.isSimpleSlider(g({},e))&&!n.isMultiSlider(i)||n.isMultiSlider(i)&&!1===(null==e?void 0:e.isDouble)?this.make(g({},e)):this.updateComponents(g({},e)),this.notify(t.update)},n.prototype.setValue=function(e){var n=g({},e),i=n.activeRange,r=n.value,s=n.perValue;void 0!==i?this.slider.setActiveRange(i):void 0!==r&&this.slider.setActiveRangeCloseOfValue(r),void 0!==r&&this.slider.setValue(r),void 0!==s&&this.slider.setPerValue(s),this.notify(t.update)},n.prototype.stepForward=function(){this.slider.stepForward(),this.notify(t.update)},n.prototype.stepBackward=function(){this.slider.stepBackward(),this.notify(t.update)},n.makeLimitsFromOptions=function(t){var e,i,r,s,o,a,l=t.min,c=t.minInterval,u=t.value,h=t.maxInterval,p=t.max,f=t.limits,d=t.activeRange,m={min:0,minInterval:25,value:50,maxInterval:75,max:100},v=g(g({},t),{minInterval:l,value:p,maxInterval:p});if(f)return n.makeLimitsFromOptionsLimits(m,f);if(n.isSimpleSlider(t))return n.makeLimitsFromSimpleOptions(m,v,u);var y=0===d?{minInterval:u}:{},b=1===d?{maxInterval:u}:{};return[null!==(e=v.min)&&void 0!==e?e:m.min,null!==(r=null!==(i=null!=c?c:y.minInterval)&&void 0!==i?i:v.minInterval)&&void 0!==r?r:m.minInterval,null!==(o=null!==(s=null!=h?h:b.maxInterval)&&void 0!==s?s:v.maxInterval)&&void 0!==o?o:m.maxInterval,null!==(a=v.max)&&void 0!==a?a:m.max]},n.makeLimitsFromOptionsLimits=function(t,e){var n=t.min,i=t.value,r=t.max;switch(e.length){case 0:return[n,i,r];case 1:return[n,e[0]];default:return e}},n.makeLimitsFromSimpleOptions=function(t,e,n){var i,r,s;return[null!==(i=e.min)&&void 0!==i?i:t.min,null!==(r=null!=n?n:e.value)&&void 0!==r?r:t.value,null!==(s=e.max)&&void 0!==s?s:t.max]},n.isSimpleSlider=function(t){return!(t.isDouble||t.minInterval&&t.maxInterval)},n.isMultiSlider=function(t){return t&&t.length>3},n.makeRanges=function(t){if(t.length<3)return[new s({min:t[0],max:t[1]})];for(var e=[],n=1;n<t.length-1;n+=1)e.push(new s({min:t[n-1],max:t[n+1],current:t[n]}));return e},n.defineSettings=function(t){var e,i,r={activeRange:null!==(e=t.activeRange)&&void 0!==e?e:t.isDouble?1:void 0,actualRanges:null!==(i=t.actualRanges)&&void 0!==i?i:t.isDouble?[1]:null,limits:n.makeLimitsFromOptions(t)};return g(g({},t),r)},n.prototype.collectConfig=function(){return g(g(g({},this.modelView.getConfig()),this.slider.getConfig()),{labelsList:Array.from(this.labelsList.getLabels())})},n.prototype.make=function(t){var e=n.defineSettings(t),i=g({},e),r=i.limits,s=i.labelsList;this.ranges=n.makeRanges(r),this.slider=new u(this.ranges,e),this.labelsList=new a(this.defineLabelsListOptions(s)),this.modelView.update(e),this.correctLimitsForLabelsList()},n.prototype.defineLabelsListOptions=function(t){return{labelsList:null!=t?t:[],startKey:this.slider.getMin(),step:this.slider.getStep()}},n.prototype.correctLimitsForLabelsList=function(){var t=[this.labelsList.getMaxKey(),this.labelsList.getMinKey()],e=t[0],n=t[1];null!==n&&n<this.slider.getMin()&&this.slider.setMin(n),null!==e&&(e>this.slider.getMax()||this.labelsList.isFlat())&&this.slider.setMax(e)},n.prototype.updateComponents=function(t){var e=g({},t).labelsList;this.slider.update(t),e&&(this.labelsList.update(this.defineLabelsListOptions(e)),this.correctLimitsForLabelsList()),this.modelView.update(t)},n.prototype.notify=function(t){this.eventEmitter.emit(t,this.getChanges())},n.prototype.getChanges=function(){return{config:this.collectConfig(),values:d([],this.slider.getValues()),names:this.getNames(),perValues:d([],this.slider.getPerValues()),labelsList:this.labelsList.getLabels()}},n.prototype.getNames=function(){var t=this;return this.slider.getValues().map((function(e){return t.labelsList.getClosestNameByValue(e,t.slider.getAbsoluteRange())}))},n}(),y=function(){return(y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.none="none",t.normal="normal",t.more="more"}(m||(m={}));var b,x,w=function(){function t(t,e,n){this.rootElem=t,this.barsSlot=e,this.applyOptions(n)}return t.prototype.update=function(t){this.applyOptions(t),this.configureElem()},t.prototype.display=function(t){this.resetElem(t),this.addScale(),t||this.addBarsSlot(),this.configureElem()},t.prototype.calcContentLengthPx=function(){var t=""!==this.rootElem.style.padding?parseInt(this.rootElem.style.padding,10):15;return this.calcLengthPx()-2*t},t.prototype.setScale=function(t){this.scale&&this.scale.getElem().remove(),this.scale=t},t.prototype.applyOptions=function(t){var e=y({},t);this.className=e.className,this.indent=e.indent,this.lengthPx=e.lengthPx},t.prototype.resetElem=function(t){t||(this.rootElem.innerHTML=""),this.rootElem.className=this.className,this.rootElem.removeAttribute("style")},t.prototype.configureElem=function(){this.drawOrientation(),this.drawLength(),this.drawIndents()},t.prototype.drawIndents=function(){this.normalizeIndent(),this.indent===m.none&&this.removeIndent(),this.indent===m.more&&this.addIndent()},t.prototype.addIndent=function(){this.rootElem.classList.remove(this.className+"_indent_none"),this.rootElem.classList.add(this.className+"_indent_add")},t.prototype.normalizeIndent=function(){this.rootElem.classList.remove(this.className+"_indent_add"),this.rootElem.classList.remove(this.className+"_indent_none")},t.prototype.removeIndent=function(){this.rootElem.classList.remove(this.className+"_indent_add"),this.rootElem.classList.add(this.className+"_indent_none")},t.prototype.addScale=function(){this.scale&&this.rootElem.prepend(this.scale.getElem())},t.prototype.addBarsSlot=function(){this.rootElem.append(this.barsSlot.getElem())},t}(),_=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.calcLengthPx=function(){return this.rootElem.getBoundingClientRect().width},e.prototype.drawOrientation=function(){this.rootElem.classList.remove(this.className+"_vertical")},e.prototype.drawLength=function(){if(this.rootElem.style.minWidth="100%",this.rootElem.style.width="100%",this.lengthPx||!(this.barsSlot.calcLengthPX()>105)){var t=this.lengthPx&&this.lengthPx>105?this.lengthPx+"px":"105px";this.rootElem.style.minWidth=t,this.rootElem.style.width=t}},e}(w),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.calcLengthPx=function(){return this.rootElem.getBoundingClientRect().height},e.prototype.drawOrientation=function(){this.rootElem.classList.add(this.className+"_vertical")},e.prototype.drawLength=function(){if(this.rootElem.style.minHeight="100%",this.rootElem.style.height="100%",this.lengthPx||!(this.barsSlot.calcLengthPX()>110)){var t=this.lengthPx&&this.lengthPx>110?this.lengthPx+"px":"110px";this.rootElem.style.minHeight=t,this.rootElem.style.height=t}},e}(w),P=function(){return(P=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.change="change"}(x||(x={}));var M,O,C=function(){function t(t,n){this.eventEmitter=new e,this.bars=t,this.applyOptions(n),this.barsSlotElem=this.createElem(),this.appendBars(),this.isProcessed=!0,this.configureElem(),this.bindEventListeners()}return t.prototype.on=function(t,e){this.eventEmitter.subscribe(t,e)},t.prototype.update=function(t){this.applyOptions(t),this.configureElem()},t.prototype.getElem=function(){return this.barsSlotElem},t.prototype.activate=function(){this.isProcessed=!1},t.prototype.release=function(){this.isProcessed=!0},t.prototype.isBarProcessed=function(){return!this.bars.some((function(t){return!t.isProcessed()}))},t.prototype.calcInnerCoordinate=function(t){var e=t-this.calcIndentPX();return e>=0?e:0},t.prototype.notify=function(t,e){this.eventEmitter.emit(t,e)},t.prototype.applyOptions=function(t){var e=P({},t);this.className=e.className,this.withIndent=e.withIndent},t.prototype.createElem=function(){var t=document.createElement("div");return t.classList.add(this.className),t},t.prototype.appendBars=function(){var t=this;this.bars.forEach((function(e){return t.barsSlotElem.append(e.getElem())}))},t.prototype.configureElem=function(){this.withIndent?this.barsSlotElem.removeAttribute("style"):this.barsSlotElem.style.margin="0"},t.prototype.handlePointerUp=function(){this.isProcessed||this.release()},t.prototype.bindEventListeners=function(){this.barsSlotElem.addEventListener("pointerdown",this.handlePointerDown.bind(this)),document.addEventListener("pointermove",this.handlePointerMove.bind(this)),document.addEventListener("pointerup",this.handlePointerUp.bind(this))},t}(),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.calcLengthPX=function(){return this.barsSlotElem.getBoundingClientRect().width},e.prototype.handlePointerDown=function(t){this.activate(),(this.isBarProcessed()||!this.isBeforeLastBar(t.clientX))&&this.bars[this.bars.length-1].activate(),this.notify(x.change,{perValue:this.calcPerValue(t.clientX)})},e.prototype.handlePointerMove=function(t){this.isProcessed||(t.preventDefault(),this.notify(x.change,{perValue:this.calcPerValue(t.clientX)}))},e.prototype.isBeforeLastBar=function(t){return t<this.bars[this.bars.length-1].calcIndentPX()},e.prototype.calcPerValue=function(t){return this.calcInnerCoordinate(t)/this.calcLengthPX()*100},e.prototype.calcIndentPX=function(){return this.barsSlotElem.getBoundingClientRect().left},e}(C),N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.markAsVertical(),i}return N(e,t),e.prototype.calcLengthPX=function(){return this.barsSlotElem.getBoundingClientRect().height},e.prototype.handlePointerDown=function(t){this.activate(),(this.isBarProcessed()||!this.isBeforeLastBar(t.clientY))&&this.bars[this.bars.length-1].activate(),this.notify(x.change,{perValue:this.calcPerValue(t.clientY)})},e.prototype.handlePointerMove=function(t){this.isProcessed||(t.preventDefault(),this.notify(x.change,{perValue:this.calcPerValue(t.clientY)}))},e.prototype.isBeforeLastBar=function(t){return t>this.bars[this.bars.length-1].calcIndentPX()},e.prototype.calcPerValue=function(t){return 100-this.calcInnerCoordinate(t)/this.calcLengthPX()*100},e.prototype.calcIndentPX=function(){return this.barsSlotElem.getBoundingClientRect().top},e.prototype.markAsVertical=function(){this.barsSlotElem.classList.add(this.className+"_vertical")},e}(C),k=function(){return(k=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},A=function(){function t(t,e){this.thumb=t,this.applyOptions(e),this.barElem=this.createElem(),this.appendThumb(),this.isProcessedLoc=!0,this.configureElem(),this.bindEventListeners()}return t.prototype.update=function(t){this.applyOptions(t),this.configureElem(),this.isActive&&this.markActive()},t.prototype.getElem=function(){return this.barElem},t.prototype.isProcessed=function(){return this.isProcessedLoc},t.prototype.activate=function(){this.thumb.isProcessed()&&this.thumb.activate(),this.isProcessedLoc=!1,this.isActive=!0,this.markActive()},t.prototype.applyOptions=function(t){var e=k({},t);this.className=e.className,this.id=e.id,this.lengthPer=e.lengthPer,this.indentPer=e.indentPer,this.isActive=e.isActive,this.isActual=e.isActual,this.isEven=e.isEven},t.prototype.createElem=function(){var t=document.createElement("div");return t.addEventListener("pointerdown",this.handlePointerDown.bind(this)),t},t.prototype.appendThumb=function(){this.barElem.append(this.thumb.getElem())},t.prototype.configureElem=function(){this.barElem.className=this.className,this.isActual&&this.defineBarModifier(),this.drawLengthPer()},t.prototype.defineBarModifier=function(){this.barElem.classList.add(this.className+"_actual"),this.isEven&&this.barElem.classList.add(this.className+"_even")},t.prototype.handlePointerDown=function(){this.activate()},t.prototype.handlePointerUp=function(){this.release()},t.prototype.release=function(){this.isProcessedLoc=!0,this.isActive=!1,this.unMarkActive()},t.prototype.markActive=function(){this.isActual&&this.barElem.classList.add(this.className+"_active")},t.prototype.unMarkActive=function(){this.barElem.classList.remove(this.className+"_active")},t.prototype.bindEventListeners=function(){document.addEventListener("pointerup",this.handlePointerUp.bind(this))},t}(),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.calcIndentPX=function(){return this.barElem.getBoundingClientRect().left},e.prototype.drawLengthPer=function(){this.barElem.style.width=this.lengthPer+"%"},e}(A),F=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.markAsVertical(),i}return F(e,t),e.prototype.calcIndentPX=function(){return this.barElem.getBoundingClientRect().top},e.prototype.drawLengthPer=function(){this.barElem.style.height=this.lengthPer+"%"},e.prototype.markAsVertical=function(){this.barElem.classList.add(this.className+"_vertical")},e}(A),D=function(){return(D=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.up="ArrowUp",t.right="ArrowRight",t.down="ArrowDown",t.left="ArrowLeft"}(M||(M={})),function(t){t.select="select",t.stepForward="step-forward",t.stepBackward="step-backward"}(O||(O={}));var z,X,K=function(){function t(t,n){this.eventEmitter=new e,this.label=t,this.applyOptions(n),this.thumbElem=this.createElem(),this.isProcessedLoc=!0,this.setLabelElem(),this.bindEventListeners()}return t.prototype.on=function(t,e){this.eventEmitter.subscribe(t,e)},t.prototype.update=function(t){this.applyOptions(t),this.setLabelElem()},t.prototype.getElem=function(){return this.thumbElem},t.prototype.isProcessed=function(){return this.isProcessedLoc},t.prototype.activate=function(){this.isProcessedLoc=!1,this.notify(O.select,{id:this.id})},t.prototype.applyOptions=function(t){var e=D({},t);this.className=e.className,this.id=e.id,this.withLabel=e.withLabel},t.prototype.createElem=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.classList.add(this.className),t},t.prototype.setLabelElem=function(){this.thumbElem.innerHTML="",this.withLabel&&this.thumbElem.append(this.label.getElem())},t.prototype.handlePointerDown=function(){this.activate()},t.prototype.handlePointerUp=function(){this.release()},t.prototype.release=function(){this.isProcessedLoc=!0},t.prototype.handleKeyDown=function(t){switch(t.key){case M.up:case M.right:return t.preventDefault(),void this.notify(O.stepForward);case M.down:case M.left:t.preventDefault(),this.notify(O.stepBackward)}},t.prototype.handleFocus=function(){this.notify(O.select,{id:this.id,isFocusOnly:!0})},t.prototype.bindEventListeners=function(){this.thumbElem.addEventListener("pointerdown",this.handlePointerDown.bind(this)),document.addEventListener("pointerup",this.handlePointerUp.bind(this)),this.thumbElem.addEventListener("keydown",this.handleKeyDown.bind(this)),this.thumbElem.addEventListener("focus",this.handleFocus.bind(this))},t.prototype.notify=function(t,e){this.eventEmitter.emit(t,e)},t}(),U=function(){return(U=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Q=function(){function t(t){this.applyOptions(t),this.labelElem=this.createElem(),this.configureElem()}return t.prototype.update=function(t){this.applyOptions(t),this.configureElem()},t.prototype.getElem=function(){return this.labelElem},t.prototype.applyOptions=function(t){var e=U({},t);this.className=e.className,this.text=e.text},t.prototype.createElem=function(){var t=document.createElement("div");return t.classList.add(this.className),t},t.prototype.configureElem=function(){this.labelElem.innerText=this.text},t}(),H=function(){return(H=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},G=function(){function t(e){this.applyOptions(e),this.scaleElem=t.createElem(),this.configureElem()}return t.calcReasonableStep=function(e){var n=H({},e),i=n.max-n.min,r=n.count&&n.count>0,s=n.count?n.count:null;if(r&&s&&s<i/n.step)return t.calcCustomReasonableStep(i,s,n.step);var o=t.calcRangeStep(i,n.step),a=t.calcAdaptiveStep(o,i,n);return l.makeCorrecterValueTailBy(n.step)(a)},t.prototype.update=function(t){this.applyOptions(t),this.configureElem()},t.prototype.getElem=function(){return this.scaleElem},t.prototype.setScaleSegments=function(t){this.scaleSegments=t,this.appendScaleSegments()},t.createElem=function(){return document.createElement("div")},t.calcCustomReasonableStep=function(t,e,n){var i=t/e;return l.makeCorrecterValueTailBy(n)(i)},t.calcRangeStep=function(t,e){for(var n=e,i=2;i<t/e&&n/t*100<1;i+=1)n=e*i;return n},t.calcAdaptiveStep=function(t,e,n){for(var i=t,r=1;r<n.maxLengthPx;r+=1){var s=e/i,o=1;if((n.type===h.yD.numeric||n.type===h.yD.mixed)&&(o=n.isVertical?2:(n.step.toString().length+n.max.toString().length+n.min.toString().length)/2.75),!(s>.1*n.maxLengthPx/o))break;i=t*r}return i},t.prototype.applyOptions=function(t){var e=H({},t);this.className=e.className,this.withIndent=e.withIndent},t.prototype.configureElem=function(){this.scaleElem.className=this.className,!1===this.withIndent&&(this.scaleElem.style.margin="0")},t.prototype.appendScaleSegments=function(){var t=this;this.scaleSegments&&this.scaleSegments.forEach((function(e){return t.scaleElem.append(e.getElem())}))},t}(),Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};!function(t){t.short="short",t.normal="normal",t.long="long"}(z||(z={})),function(t){t.select="select"}(X||(X={}));var Z,$=function(){function t(n){this.eventEmitter=new e,this.applyOptions(n),this.scaleSegmentElem=t.createElem(),this.configureElem(),this.bindEventListeners()}return t.prototype.on=function(t,e){this.eventEmitter.subscribe(t,e)},t.prototype.update=function(t){this.applyOptions(t),this.configureElem()},t.prototype.getElem=function(){return this.scaleSegmentElem},t.createElem=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t},t.prototype.applyOptions=function(t){var e=Y({},t);this.className=e.className,this.value=e.value,this.notch=e.notch,this.label=e.label,this.grow=e.grow,this.isLast=e.isLast,this.withNotch=e.withNotch},t.prototype.configureElem=function(){this.scaleSegmentElem.className=this.className,this.defineNotchModifier(),this.defineLabelModifier(),(this.value||0===this.value)&&(this.scaleSegmentElem.dataset.value=this.value.toString()),(this.grow||0===this.grow)&&(this.scaleSegmentElem.style.flexGrow=this.grow.toString()),this.isLast&&this.scaleSegmentElem.classList.add(this.className+"_last")},t.prototype.defineNotchModifier=function(){this.withNotch?this.defineNotchLengthModifier():this.scaleSegmentElem.classList.add(this.className+"_notch_none")},t.prototype.defineNotchLengthModifier=function(){this.notch===z.long?this.scaleSegmentElem.classList.add(this.className+"_long"):this.notch===z.short&&this.scaleSegmentElem.classList.add(this.className+"_short")},t.prototype.defineLabelModifier=function(){"number"==typeof this.label&&(this.scaleSegmentElem.classList.add(this.className+"_with-number"),this.scaleSegmentElem.dataset.label=this.label.toString()),"string"==typeof this.label&&(this.scaleSegmentElem.classList.add(this.className+"_with-name"),this.scaleSegmentElem.dataset.label=this.label)},t.prototype.handleClick=function(t){var e=t.target;this.notify(X.select,{value:Number(e.dataset.value)})},t.prototype.handleKeyPress=function(t){var e=t.target;" "===t.key&&(t.preventDefault(),this.notify(X.select,{value:Number(e.dataset.value)}))},t.prototype.bindEventListeners=function(){this.scaleSegmentElem.addEventListener("click",this.handleClick.bind(this)),this.scaleSegmentElem.addEventListener("keypress",this.handleKeyPress.bind(this))},t.prototype.notify=function(t,e){this.eventEmitter.emit(t,e)},t}(),W=n(892),q=n.n(W),J=n(176),tt=(q()(J.Z,{insert:"head",singleton:!1}),J.Z.locals,function(){return(tt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)});!function(t){t.select="select",t.forward="forward",t.backward="backward",t.change="change"}(Z||(Z={}));var et=function(){function t(t,n){this.eventEmitter=new e,this.isProcessed=!0,this.rootElem=t,this.config=tt({},n),this.bindEventListeners()}return t.prototype.on=function(t,e){this.eventEmitter.subscribe(t,e)},t.prototype.render=function(t){var e=this.hasPartialChanges(t);this.config=tt({},t),e?this.reRender():(this.makeSubViews(),this.listenSubViews(),this.root&&this.root.display(),this.config.scale&&this.addScaleBlock())},t.prototype.getRootConfig=function(){var e=m.none;return this.config.withIndent&&(e=this.config.withLabel&&(!this.config.scale||this.config.orientation===h.rQ.vertical)||this.config.orientation===h.rQ.vertical&&this.config.scale&&this.config.scale!==h.yD.basic?m.more:m.normal),{className:t.className,indent:e,lengthPx:this.config.lengthPx}},t.prototype.getBarsSlotConfig=function(){return{className:t.className+"__bars-slot",withIndent:this.config.withIndent}},t.prototype.getBarConfigs=function(){var e=[],n=0,i=this.config,r=i.perValues,s=i.activeRange,o=i.actualRanges;return r.forEach((function(i,r){var a=null!==o&&-1!==o.indexOf(r),l={className:t.className+"__bar",id:r,lengthPer:i-n,indentPer:n,isActive:r===s,isActual:a,isEven:(r+1)%2==0};e.push(l),n=i})),e},t.prototype.getThumbConfig=function(e){return{className:t.className+"__thumb",id:e,withLabel:this.config.withLabel}},t.prototype.getLabelConfigs=function(){var e=this,n=[];return this.config.values.forEach((function(i,r){var s=e.config.names,o=e.config.label===h.PQ.name&&s;n.push({className:t.className+"__label",text:o?s[r]:i.toString()})})),n},t.prototype.getScaleConfig=function(){return{className:t.className+"__scale",withIndent:this.config.withIndent}},t.prototype.getScaleSegmentConfigs=function(e){var n,i,r={className:t.className+"__scale-segment",value:this.config.max,notch:z.short,label:this.defineScaleSegmentLabel(this.config.max),grow:1,isLast:!0,withNotch:this.config.withNotch},s=[],o=null!==(n=e({min:this.config.min,max:this.config.max,step:this.config.step,maxLengthPx:this.root?this.root.calcContentLengthPx():this.config.lengthPx,isVertical:this.config.orientation===h.rQ.vertical,type:this.config.scale,count:this.config.scaleSegments}))&&void 0!==n?n:this.config.step,a=l.getMaxMantissaLength(this.config.min,o,this.config.max);for(i=this.config.min;i<=this.config.max;i+=o)i=l.correctValueTail(i,a),s.push(tt(tt({},r),{value:i,notch:i%(10*o)==0?z.long:z.normal,label:this.defineScaleSegmentLabel(i),grow:this.defineScaleSegmentGrow(i,o,a),isLast:i===this.config.max}));return i-o!==this.config.max&&(s.pop(),s.push(tt(tt({},r),{grow:this.defineScaleSegmentGrow(i,o,a,!0)}))),s},t.prototype.handleSelect=function(t){var e=tt({},t),n=e.id,i=e.isFocusOnly;if(void 0!==n){if(!this.isProcessed)return;this.isProcessed=Boolean(i)}this.notify(Z.select,t)},t.prototype.handleStepForward=function(){this.notify(Z.forward)},t.prototype.handleStepBackward=function(){this.notify(Z.backward)},t.prototype.handleRelease=function(){this.isProcessed||(this.isProcessed=!0,this.notify(Z.change))},t.prototype.handleResize=function(){this.reRender()},t.prototype.notify=function(t,e){var n,i=[t];void 0!==e&&i.push(e),(n=this.eventEmitter).emit.apply(n,i)},t.prototype.hasPartialChanges=function(t){return this.root&&(!t||this.config.orientation===t.orientation&&this.config.perValues.length===t.perValues.length&&this.config.scale===t.scale&&this.config.scaleSegments===t.scaleSegments)},t.prototype.reRender=function(){0!==Object.keys(this.config).length&&(this.updateSubViews(),this.config.scale&&this.isProcessed&&this.addScaleBlock())},t.prototype.makeSubViews=function(){var t=this;this.labels=this.getLabelConfigs().map((function(t){return new Q(t)})),this.thumbs=this.config.perValues.map((function(e,n){var i=t.labels;return new K(i[n],t.getThumbConfig(n))})),this.config.orientation===h.rQ.vertical?(this.bars=this.getBarConfigs().map((function(e,n){var i=t.thumbs;return new T(i[n],e)})),this.barsSlot=new V(this.bars,this.getBarsSlotConfig()),this.root=new L(this.rootElem,this.barsSlot,this.getRootConfig())):(this.bars=this.getBarConfigs().map((function(e,n){var i=t.thumbs;return new j(i[n],e)})),this.barsSlot=new I(this.bars,this.getBarsSlotConfig()),this.root=new E(this.rootElem,this.barsSlot,this.getRootConfig()))},t.prototype.listenSubViews=function(){var t,e,n=this;null===(t=this.thumbs)||void 0===t||t.forEach((function(t){t.on(O.select,n.handleSelect.bind(n)),t.on(O.stepForward,n.handleStepForward.bind(n)),t.on(O.stepBackward,n.handleStepBackward.bind(n))})),null===(e=this.barsSlot)||void 0===e||e.on(x.change,this.handleSelect.bind(this))},t.prototype.addScaleBlock=function(){this.scale=new G(this.getScaleConfig()),this.scaleSegments=this.getScaleSegmentConfigs(G.calcReasonableStep).map((function(t){return new $(t)})),this.scale.setScaleSegments(this.scaleSegments),this.root&&(this.root.setScale(this.scale),this.root.display(!0)),this.listenScaleSegments()},t.prototype.listenScaleSegments=function(){var t,e=this;null===(t=this.scaleSegments)||void 0===t||t.forEach((function(t){t.on(X.select,e.handleSelect.bind(e))}))},t.prototype.updateSubViews=function(){var t=this;this.getLabelConfigs().forEach((function(e,n){t.labels[n].update(e)})),this.getBarConfigs().forEach((function(e,n){var i=t.thumbs,r=t.bars;i[n].update(t.getThumbConfig(n)),r[n].update(e)})),this.barsSlot&&this.barsSlot.update(this.getBarsSlotConfig()),this.scale&&this.scaleSegments&&this.scaleSegments.length&&(this.getScaleSegmentConfigs(G.calcReasonableStep).forEach((function(e,n){t.updateScaleSegment(n,e)})),this.scale&&this.scale.update(this.getScaleConfig())),this.root&&this.root.update(this.getRootConfig())},t.prototype.updateScaleSegment=function(t,e){var n=this.scaleSegments;n[t]?n[t].update(e):(n[t]=new $(e),n[t].on(X.select,this.handleSelect.bind(this)))},t.prototype.bindEventListeners=function(){document.addEventListener("pointerup",this.handleRelease.bind(this)),window.addEventListener("resize",this.handleResize.bind(this))},t.prototype.defineScaleSegmentLabel=function(t){var e,n=null;return this.config.scale===h.yD.numeric?n=t:this.config.scale!==h.yD.basic&&(n=null!==(e=this.config.labelsList.get(t))&&void 0!==e?e:this.config.scale===h.yD.mixed?t:null),n},t.prototype.defineScaleSegmentGrow=function(t,e,n,i){var r=this.config.max,s=t+e>r?r-t:e;return i&&(s=r-(t-e)),l.correctValueTail(s*Math.pow(10,n),n)},t.className="multi-range-slider",t}(),nt=function(){return(nt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},it=function(){function e(t,e){this.$root=t,this.model=new v,this.view=new et(t[0]),this.listenModel(),this.listenView(),this.model.init(nt({},e))}return e.prototype.update=function(t){var e=nt({},t);this.model.update(e)},e.prototype.setValue=function(t){this.model.setValue(t)},e.prototype.stepForward=function(){this.model.stepForward()},e.prototype.stepBackward=function(){this.model.stepBackward()},e.prototype.present=function(t){var e=t.config;this.returnConfig(e),this.view.render(nt(nt({},e),t))},e.prototype.returnConfig=function(t){this.$root.data(t)},e.prototype.notifyAbout=function(t){this.$root.trigger(t)},e.prototype.listenModel=function(){this.model.on(t.init,this.handleModelInit.bind(this)),this.model.on(t.update,this.handleModelUpdate.bind(this))},e.prototype.handleModelInit=function(t){void 0!==t&&(this.present(t),this.notifyAbout(h.FO.init))},e.prototype.handleModelUpdate=function(t){void 0!==t&&(this.present(t),this.notifyAbout(h.FO.update))},e.prototype.listenView=function(){this.view.on(Z.change,this.update.bind(this)),this.view.on(Z.forward,this.stepForward.bind(this)),this.view.on(Z.backward,this.stepBackward.bind(this)),this.view.on(Z.select,this.handleViewSelect.bind(this))},e.prototype.handleViewSelect=function(t){var e=nt({},t),n=e.id,i=e.value,r=e.perValue;this.setValue({activeRange:n,value:i,perValue:r})},e}(),rt=function(t){var e=t,n=new Map;e.fn.multiRangeSlider=function(t){return void 0===t&&(t={}),this.each((function(){n.has(this)?n.get(this).update(t):n.set(this,new it(e(this),t))}))}}}(),i.default}()}));